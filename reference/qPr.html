<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate quantiles — qPr • inferno</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate quantiles — qPr"><meta name="description" content="This function calculates the quantiles of Pr(Y | X, data) at specified probability levels, as well as the variability of those quantiles if more learning data were provided. The variability can be expressed in the form of quantiles, samples, or both, as in the Pr() function. If several joint values are given for the probability levels and for X, the function creates a 2D grid of results for all possible compbinations of the given probability levels and X values. Each variate in the argument X can be specified either as a point-value X = x or as a left-open interval X ≤ x or as a right-open interval X ≥ x, through the argument tails."><meta property="og:description" content="This function calculates the quantiles of Pr(Y | X, data) at specified probability levels, as well as the variability of those quantiles if more learning data were provided. The variability can be expressed in the form of quantiles, samples, or both, as in the Pr() function. If several joint values are given for the probability levels and for X, the function creates a 2D grid of results for all possible compbinations of the given probability levels and X values. Each variate in the argument X can be specified either as a point-value X = x or as a left-open interval X ≤ x or as a right-open interval X ≥ x, through the argument tails."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">inferno</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/inferno_start.html">Bayesian nonparametric inference with inferno</a></li>
    <li><a class="dropdown-item" href="../articles/mutualinfo.html">Associations among variates and mutual information</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pglpm/inferno/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate quantiles</h1>
      <small class="dont-index">Source: <a href="https://github.com/pglpm/inferno/blob/main/R/qPr.R" class="external-link"><code>R/qPr.R</code></a></small>
      <div class="d-none name"><code>qPr.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function calculates the quantiles of <code>Pr(Y | X, data)</code> at specified probability levels, as well as the variability of those quantiles if more learning data were provided. The variability can be expressed in the form of quantiles, samples, or both, as in the <code><a href="Pr.html">Pr()</a></code> function. If several joint values are given for the probability levels and for <code>X</code>, the function creates a 2D grid of results for all possible compbinations of the given probability levels and <code>X</code> values. Each variate in the argument <code>X</code> can be specified either as a point-value <code>X = x</code> or as a left-open interval <code>X ≤ x</code> or as a right-open interval <code>X ≥ x</code>, through the argument <code>tails</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">qPr</span><span class="op">(</span></span>
<span>  p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.055</span>, <span class="fl">0.5</span>, <span class="fl">0.945</span><span class="op">)</span>,</span>
<span>  <span class="va">Yname</span>,</span>
<span>  X <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">learnt</span>,</span>
<span>  tails <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  priorY <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nsamples <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.055</span>, <span class="fl">0.5</span>, <span class="fl">0.945</span><span class="op">)</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keepYX <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  tol <span class="op">=</span> <span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span> <span class="op">*</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-p">p<a class="anchor" aria-label="anchor" href="#arg-p"></a></dt>
<dd><p>Numeric vector of probability levels. Default: <code>c(0.055, 0.5, 0.945)</code>.</p></dd>


<dt id="arg-yname">Yname<a class="anchor" aria-label="anchor" href="#arg-yname"></a></dt>
<dd><p>Character vector: name of variate whose quantiles will be computed.</p></dd>


<dt id="arg-x">X<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Matrix or data.table or <code>NULL</code> (default): set of values of variates on which we want to condition. If <code>NULL</code>, no conditioning is made (except for conditioning on the learning dataset and prior assumptions). One variate per column, one set of values per row.</p></dd>


<dt id="arg-learnt">learnt<a class="anchor" aria-label="anchor" href="#arg-learnt"></a></dt>
<dd><p>Either a character with the name of a directory or full path for a 'learnt.rds' object, produced by the <code><a href="learn.html">learn()</a></code> function, or such an object itself.</p></dd>


<dt id="arg-tails">tails<a class="anchor" aria-label="anchor" href="#arg-tails"></a></dt>
<dd><p>Named vector or list, or <code>NULL</code> (default). The names must match some or all of the variates in arguments <code>X</code>. For variates in this list, the probability conditional is understood in an semi-open interval sense: <code>X ≤ x</code> or <code>X ≥ x</code>, an so on. See analogous argument in <code><a href="Pr.html">Pr()</a></code>.</p></dd>


<dt id="arg-priory">priorY<a class="anchor" aria-label="anchor" href="#arg-priory"></a></dt>
<dd><p>Numeric vector with the same length as the rows of <code>Y</code>, or <code>TRUE</code>, or <code>NULL</code> (default): prior probabilities or base rates for the <code>Y</code> values. If <code>TRUE</code>, the prior probabilities are assumed to be all equal. For the moment only the value <code>NULL</code> is accepted.</p></dd>


<dt id="arg-nsamples">nsamples<a class="anchor" aria-label="anchor" href="#arg-nsamples"></a></dt>
<dd><p>Integer or <code>NULL</code> or <code>'all'</code> (default): desired number of samples of the variability of the quantile for <code>Y</code>. If <code>NULL</code>, no samples are reported. If <code>'all'</code> (or <code>Inf</code>), all samples obtained by the <code><a href="learn.html">learn()</a></code> function are used.</p></dd>


<dt id="arg-quantiles">quantiles<a class="anchor" aria-label="anchor" href="#arg-quantiles"></a></dt>
<dd><p>Numeric vector, between 0 and 1, or <code>NULL</code>: desired quantiles of the variability of the quantile for <code>Y</code>. Default <code>c(0.055, 0.25, 0.75, 0.945)</code>, that is, the 5.5%, 25%, 75%, 94.5% quantiles (these are typical quantile values in the Bayesian literature: they give 50% and 89% credibility intervals, which correspond to 1 shannons and 0.5 shannons of uncertainty). If <code>NULL</code>, no quantiles are calculated.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>Logical or positive integer or cluster object. <code>TRUE</code>: use roughly half of available cores; <code>FALSE</code>: use serial computation; integer: use this many cores. It can also be a cluster object previously created with <code><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">parallel::makeCluster()</a></code>; in this case the parallel computation will use this object.</p></dd>


<dt id="arg-silent">silent<a class="anchor" aria-label="anchor" href="#arg-silent"></a></dt>
<dd><p>Logical, default <code>FALSE</code>: give warnings or updates in the computation?</p></dd>


<dt id="arg-keepyx">keepYX<a class="anchor" aria-label="anchor" href="#arg-keepyx"></a></dt>
<dd><p>Logical, default <code>TRUE</code>: keep a copy of the <code>Y</code> and <code>X</code> arguments in the output? This is used for the plot method.</p></dd>


<dt id="arg-tol">tol<a class="anchor" aria-label="anchor" href="#arg-tol"></a></dt>
<dd><p>numeric positive: tolerance in the calculation of quantiles. Default: <code>.Machine$double.eps * 10</code> (typically <code>2.22045e-15</code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of the elements <code>values</code>,  <code>quantiles</code> (possibly <code>NULL</code>), <code>samples</code> (possibly <code>NULL</code>), <code>Y</code>, <code>X</code>. Element <code>values</code>: a matrix with the requested <code>Y</code>-quantiles conditional on the requested <code>X</code>-values, for all combinations of <code>p</code> (rows) and <code>X</code> (columns). Element <code>quantiles</code>: an array with the variability quantiles (3rd dimension of the array). Element <code>samples</code>: an array with the variability samples (3rd dimension of the array). Elements <code>Y</code>, <code>X</code>: copies of the <code>p</code> and <code>X</code> arguments.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by PierGianLuca Porta Mana, Aurora Grefsrud, Håkon Mydland, Maksim Ohvrill, Simen Hesthamar Hauge.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

