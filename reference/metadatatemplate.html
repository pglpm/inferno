<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Metadata and helper function for metadata — metadatatemplate • inferno</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Metadata and helper function for metadata — metadatatemplate"><meta name="description" content="Metadata and helper function to create a template metadata file or object."><meta property="og:description" content="Metadata and helper function to create a template metadata file or object."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">inferno</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/vignette_crashcourse.html">A crash course in population inference</a></li>
    <li><a class="dropdown-item" href="../articles/vignette_mutualinfo.html">Associations of variates with mutual information</a></li>
    <li><a class="dropdown-item" href="../articles/vignette_parkinson.html">Example of use: inferences for Parkinson's Disease</a></li>
    <li><a class="dropdown-item" href="../articles/vignette_start.html">Example of use: inferno for penguins</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pglpm/inferno/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Metadata and helper function for metadata</h1>
      <small class="dont-index">Source: <a href="https://github.com/pglpm/inferno/blob/main/R/metadatatemplate.R" class="external-link"><code>R/metadatatemplate.R</code></a></small>
      <div class="d-none name"><code>metadatatemplate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Metadata and helper function to create a template metadata file or object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">metadatatemplate</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  includevrt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  excludevrt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  addsummary2metadata <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  backupfiles <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A dataset, given as a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code>
or as a file path to a csv file.</p></dd>


<dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>String: name of csv file where the metadata should be saved;
if <code>NULL</code>: output metadata as <code>VALUE</code>.</p></dd>


<dt id="arg-includevrt">includevrt<a class="anchor" aria-label="anchor" href="#arg-includevrt"></a></dt>
<dd><p>Character or <code>NULL</code>: name of variates in dataset to be included.</p></dd>


<dt id="arg-excludevrt">excludevrt<a class="anchor" aria-label="anchor" href="#arg-excludevrt"></a></dt>
<dd><p>Character or <code>NULL</code>: name of variates in dataset to be excluded.</p></dd>


<dt id="arg-addsummary-metadata">addsummary2metadata<a class="anchor" aria-label="anchor" href="#arg-addsummary-metadata"></a></dt>
<dd><p>Logical: also output some diagnostic statistics
in the metadata? Default <code>FALSE</code>.</p></dd>


<dt id="arg-backupfiles">backupfiles<a class="anchor" aria-label="anchor" href="#arg-backupfiles"></a></dt>
<dd><p>Logical: rename previous metadata file if it exists?
Default <code>TRUE</code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical: output heuristics for each variate? Default <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>file = NULL</code>, a preliminary metadata file is created
and <code>VALUE</code> is <code>NULL</code>;
otherwise <code>VALUE</code> is a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code> containing the metadata.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code><a href="learn.html">learn</a></code> function needs metadata about the variates present in the data. Such metadata can be provided either as a <code>csv</code> file or as a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code>. The function <code>buildmetadata</code> creates a template metadata csv-file, or outputs a metadata data.frame, by trying to <em>guess</em> metadata information from the dataset.The guesses may be very incorrect (as already said, metadata is information not contained in the data, so no algorithm can exist that extracts it from the data). <strong>The user <em>must</em> modify and correct this template, using it as a starting point to prepare the correct metadata information.</strong></p>
    </div>
    <div class="section level2">
    <h2 id="metadata-information-and-format">Metadata information and format<a class="anchor" aria-label="anchor" href="#metadata-information-and-format"></a></h2>



<p>In order to correctly learn from a dataset, the <code><a href="learn.html">learn</a></code> function needs information that is not contained in the data themeselves; that is, it needs <em>meta</em>data. Metadata are provided either as a <code>csv</code> file or as a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code>.</p>
<p>A metadata file or data.frame must contain one row for each simple variate in the given inference problem, and the following fields (columns), even if some of them may be empty:</p>
<p><code>name</code>, <code>type</code>, <code>domainmin</code>, <code>domainmax</code>, <code>datastep</code>, <code>minincluded</code>, <code>maxincluded</code>, <code>V1</code>, <code>V2</code>, (possibly additional <code>V</code>-fields, sequentially numbered)</p>
<p>The <code>type</code> field has three possible values: <code>nominal</code>, <code>ordinal</code>, <code>continuous</code>. The remaining fields that must be filled in depend on the <code>type</code> field. Here is a list of requirements:</p><ul><li><p><strong><code>nominal</code></strong> and <strong><code>ordinal</code></strong>: require <em>either</em> <code>V1</code>, <code>V2</code>, ... fields <em>or</em> <code>domainmin</code>, <code>domainmax</code>, <code>datastep</code> (all three) fields. No other fields are required.</p></li>
<li><p><strong><code>continuous</code></strong>: requires <code>domainmin</code>, <code>domainmax</code>, <code>datastep</code>, <code>minincluded</code>, <code>maxincluded</code>.</p></li>
</ul><p>Here are the meanings and possible values of the fields:</p>
<p><strong><code>name</code></strong>: The name of the variate. This must be the same character string as it appears in the dataset (be careful about upper- and lower-case).</p>
<p><strong><code>type</code></strong>: The data type of variate <code>name</code>. Possible values are <code>nominal</code>, <code>ordinal</code>, <code>continuous</code>.</p><ul><li><p>A <em>nominal</em> (also called <em>categorical</em>) variate has a discrete, finite number of possible values which have no intrinsic ordering. Examples could be a variate related to colour, with values "red", "green", "blue", and so on; or a variate related to cat breeds, with values "Siamese", "Abyssinian", "Persian", and so on. The possible values of the variate must be given in the fields <code>V1</code>, <code>V2</code>, and so on. It is important to include values that are possible but are <em>not</em> present in the dataset. A variate having only two possible values (binary variate), for example "yes" and "no", can be specified as nominal.</p></li>
<li><p>An <em>ordinal</em> variate has a discrete, finite number of possible values which do have an intrinsic ordering. Examples could be a Likert-scaled variate for the results of a survey, with values "very dissatisfied", "dissatisfied", "satisfied", "very satisfied"; or a variate related to the levels of some quantities, with values "low", "medium", "high"; or a variate having a numeric scale with values from 1 to 10. Whether a variate is nominal or ordinal often depends on the context. The possible values of the variate but be given in either one (but not both) or two ways: (1) in the fields <code>V1</code>, <code>V2</code>, ..., as for nominal variates; (2) as the fields <code>domainmin</code>, <code>domainmax</code>, <code>datastep</code>. Option (2) only works with numeric, equally spaced values: it assumes that the first value is <code>domainmin</code>, the second is <code>domainmin</code>+<code>datastep</code>, the third is <code>domainmin</code>+2*<code>datastep</code>, and so on up to the last value, <code>domainmax</code>.</p></li>
<li><p>A <em>continuous</em> variate has a continuum of values with an intrinsic ordering. Examples could be a variate related to the width of an object; or to the age of a person; or one coordinate of an object in a particular reference system. A continuous variate requires specification of the fields <code>domainmin</code>, <code>domainmax</code>, <code>datastep</code>, <code>minincluded</code>, <code>maxincluded</code>. Some naturally continuous variates are often rounded to a given precision; for instance, the age of a person might be reported as rounded to the nearest year (25 years, 26 years, and so on); or the length of an object might be reported to the nearest centimetre (1 m, 1.01 m, 1.02 m, and so on). The minimum distance between such rounded values <strong>must</strong> be reported in the <code>datastep</code> field; this would be <code>1</code> in the age example and <code>0.01</code> in the length example above. See below for further explanation of why reporting such rounding is important.</p></li>
</ul><p><strong><code>domainmin</code></strong>: The minimum value that the variate (ordinal or continuous) can take on. Possible values are a real number or an empty value, which is then interpreted as <code>-Inf</code> (explicit values like <code>-Inf</code>, <code>-inf</code>, <code>-infinity</code> should also work). Some continuous variates, like age or distance or temperature, are naturally positive, and therefore have <code>domainmin</code> equal <code>0</code>. But in other contexts the minimum value could be different. For instance, if a given inference problem only involves people of age 18 or more, then <code>domainmin</code> would be set to <code>18</code>.</p>
<p><strong><code>domainmax</code></strong>: The maximum value that the variate (ordinal or continuous) can take on. Possible values are a real number, or an empty value, which is then interpreted as <code>+Inf</code> (explicit values like <code>Inf</code>, <code>inf</code>, <code>infinity</code> should also work). As with <code>domainmin</code>, the maximum value depends on the context. An age-related variate could theoretically have <code>domainmax</code> equal to infinity (empty value in the metadata file); but if a given study categorizes some people as "90 years old or older", then <code>domainmax</code> should be set to <code>90</code>.</p>
<p><strong><code>datastep</code></strong>: The minimum distance between the values of a variate (ordinal or continuous). Possible values are a positive real number or an empty value, which is then interpreted as 0 (the explicit value <code>0</code> is also accepted). For a numeric ordinal variate, <code>datastep</code> is the step between consecutive values. For a continuous <em>rounded</em> variate, <code>datastep</code> is the minimum distance between different values that occurs because of rounding; see the examples given above. The function <code>buildmetadata</code> has some heuristics to determine whether the variate is rounded or not. See further details under the section Rounding below.</p>
<p><strong><code>minincluded</code></strong>, <strong><code>maxincluded</code></strong>: Whether the minimum (<code>domainmin</code>) and maximum(<code>domainmax</code>) values of a <em>continuous</em> variate can really appear in the data or not. Possible values are <code>true</code> (or <code>t</code> or <code>yes</code>) or <code>false</code> (or <code>f</code>, <code>no</code>, or an empty field); upper- or lower-case is irrelevant. Here are some examples about the meaning of these fields. (a) A continuous <em>unrounded</em> variate such as temperature has 0 as a minimum possible value <code>domainmin</code>, but this value itself is physically impossible and can never appear in data; in this case <code>minincluded</code> is empty (or set to <code>false</code> or <code>no</code>). (b) A variate related to the <em>unrounded</em> length, in metres, of some objects may take on any positive real value; but suppose that all objects of length 5 or less are grouped together under the value <code>5</code>. It is then possible for several datapoints to have value <code>5</code>: one such datapoint could originally have the value 3.782341...; another the value 4.929673..., and so on. In this case <code>domainmin</code> is set to <code>5</code>, and <code>minincluded</code> is set to <code>true</code> (or <code>yes</code>). Similarly for the maximum value of a variate and <code>maxincluded</code>. Note that if <code>domainmin</code> is minus-infinity (empty value in the metadata file), then <code>minincluded</code> is automatically empty (that is, <code>false</code>), and similarly for <code>maxincluded</code> if <code>domainmax</code> is infinity.</p>
    </div>
    <div class="section level2">
    <h2 id="rounded-continuous-variates">Rounded continuous variates<a class="anchor" aria-label="anchor" href="#rounded-continuous-variates"></a></h2>



<p>To be written.</p>
    </div>
    <div class="section level2">
    <h2 id="necessity-of-metadata">Necessity of metadata<a class="anchor" aria-label="anchor" href="#necessity-of-metadata"></a></h2>



<p>To be written.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by PierGianLuca Porta Mana, Aurora Grefsrud, Håkon Mydland, Maksim Ohvrill, Simen Hesthamar Hauge.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

